# タスク管理シート

## 🌅 朝イチ習慣(毎日)

| タスク名 | 所要時間 | 備考 |
| :--- | :--- | :--- |
| タスク確認 | 5分 | 今日の優先順位を把握 |

## 📋 本日のタスク

| タスク名 | 所要時間 | 期限 | ステータス | 備考 |
| :--- | :--- | :--- | :--- | :--- |
| **[Test: Setup]** テスト・検証基盤の構築 | 25分×1 | 2025-12-24 | ✅ 完了 | Vitest, Mock環境作成 |
| **[Test: Prompt]** 各AIロールの応答フォーマット検証テスト | 25分×2 | 2025-12-24 | ✅ 完了 | JSON/マーカー抽出テスト |
| **[Impl: Phase 1]** Dexie.js データベース初期化 | 25分×1 | 2025-12-24 | ✅ 完了 | lib/storage.ts |
| **[Impl: Phase 1]** Facilitator ロール作成（演技・対話用） | 25分×1 | 2025-12-24 | ✅ 完了 | src/prompts/facilitator.md |
| **[Impl: Phase 1]** Mentor ロール作成（事前指導・ブリーフィング用） | 25分×1 | 2025-12-24 | ✅ 完了 | src/prompts/mentor.md |
| **[Impl: Phase 1]** Helper ロール作成（状況整理・助言用） | 25分×1 | 2025-12-24 | ✅ 完了 | src/prompts/helper.md |
| **[Impl: Phase 1]** Reviewer ロール作成（添削・評価用） | 25分×1 | 2025-12-24 | ✅ 完了 | src/prompts/reviewer.md |
| **[Impl: Phase 1]** API モード切替ロジックの実装 | 25分×1 | 2025-12-24 | ✅ 完了 | src/app/api/chat/route.ts |
| **[Impl: Phase 1]** API レート制限時の「上司会議中」演出の実装 | 25分×1 | 2025-12-24 | ✅ 完了 | 429エラーハンドリング |
| **[Impl: Phase 1]** 弱点克服型シナリオガチャの実装 | 25分×2 | 2025-12-24 | ✅ 完了 | 弱点タグの注入ロジック |
| **[Verify]** 弱点タグに基づきシナリオが変化するか検証 | 25分×1 | 2025-12-24 | ✅ 完了 | 期待通りのJSON出力確認 |
| **[Impl: Phase 1]** 脈打つヘルプボタンコンポーネント | 25分×1 | 2025-12-25 | ✅ 完了 | Framer Motion アニメ |
| **[Impl: Phase 1]** 「上司の助け舟」モーダル UI | 25分×1 | 2025-12-25 | ✅ 完了 | ポップアップ表示 |
| **[Impl: Phase 1]** ヘルプ使用回数のカウント・保存同期 | 25分×1 | 2025-12-25 | ✅ 完了 | DB連携 |
| **[Impl: Phase 1]** 総合結合テストと挙動調整 | 25分×2 | 2025-12-25 | ✅ 完了 | シナリオ完遂テスト |
| **[Verify]** 真因到達度メーターの増減とフィードバックの整合性 | 25分×1 | 2025-12-25 | ⏳ 未着手 | 総合アウトプット確認 |
| --- | --- | --- | --- | --- |
| **[Impl: Phase 2]** Reviewer の特定メッセージ指名ロジック | 25分×2 | 2025-12-26 | ⏳ 進行中 | JSONでのID指定 |
| **[Impl: Phase 2]** Recharts 等によるチャート基盤導入 | 25分×1 | 2025-12-26 | ⏳ 未着手 | ライブラリ選定と設置 |
| **[Impl: Phase 2]** 評価レポート画面のレイアウト構築 | 25分×1 | 2025-12-26 | ⏳ 未着手 | 全体構成 |
| **[Impl: Phase 2]** スコアデータのチャート連動 | 25分×2 | 2025-12-26 | ⏳ 未着手 | 動的表示 |
| **[Verify]** Reviewerの採点結果がチャートと一致するか検証 | 25分×1 | 2025-12-26 | ⏳ 未着手 | データ整合性テスト |
| **[Impl: Phase 2]** メッセージ代案（Better Version）表示 UI | 25分×2 | 2025-12-27 | ⏳ 未着手 | クリップ/ツールチップ等 |
| **[Impl: Phase 2]** モチベーション維持用の褒めフィルタ調整 | 25分×2 | 2025-12-27 | ⏳ 未着手 | AIトーンチューニング |
| --- | --- | --- | --- | --- |
| **[Impl: Phase 3]** 過去50件の時系列スコアリング抽出ロジック | 25分×2 | 2025-12-28 | ⏳ 未着手 | IndexedDB 集計クエリ |
| **[Impl: Phase 3]** 思考の癖（トレンド）の言語化ロジック | 25分×2 | 2025-12-28 | ⏳ 未着手 | 強化AI分析 |
| **[Impl: Phase 3]** 成長可視化ダッシュボードの基本レイアウト | 25分×1 | 2025-12-28 | ⏳ 未着手 | 画面構成 |
| **[Impl: Phase 3]** トレンドグラフの実装 | 25分×2 | 2025-12-28 | ⏳ 未着手 | スコア推移表示 |
| **[Impl: Phase 3]** 自動弱点タグ付け・リマインド機能 | 25分×2 | 2025-12-29 | ⏳ 未着手 | 克服ポイントの通知 |
| **[Impl: Phase 3]** 「過去の自分」比較レポートの生成 | 25分×2 | 2025-12-29 | ⏳ 未着手 | 詳細対比ロジック |
| **[Verify]** 過去50件の推移グラフと分析文の妥当性検証 | 25分×1 | 2025-12-29 | ⏳ 未着手 | 最終的な成長の実感チェック |


## 📝 タスクの手順（ステップ）管理

### 🧪 導入フェーズ: テスト・検証基盤

#### 0. テスト基盤の準備
- **ステップ**: Vitestの導入（`npm install -D vitest`）, テスト用ディレクトリ `src/__tests__` の作成。
- **目的**: AIの応答やDB操作が「壊れていないか」を一瞬で判断できるようにする。

### 実装 Phase 1: 基礎と伴走機能

#### 1. AI応答検証テスト
- **ステップ**: 各プロンプト（Mentor等）の成功サンプルを作成し、期待される属性（JSONキー）が存在するかを確認。

#### 1. DB構築
- **ステップ**: `lib/storage.ts` 定義, インデックス最適化, 50件アーカイブロジック。

#### 2. プロンプト（4ロール）
- **ステップ**: 各 `.md` ファイル作成, Persona定義, 出力フォーマット（JSON）の厳密化。

#### 3. API & ロジック
- **ステップ**: モード切替, コンテキスト窓制御（15往復制限）, カウント管理。

#### 4. UI/UX
- **ステップ**: パルスアニメーション, ポップアップモーダル, 真因到達度メーター（隠蔽版）。

### 実装 Phase 2: 外科手術型添削

#### 1. 高度分析
- **ステップ**: Reviewerロール強化, 特定発言クリップ機能, Better Version生成。

#### 2. 評価UI
- **ステップ**: レーダーチャート実装, 褒めフォーカスなUIデザイン, 履歴画面との結合。

### 実装 Phase 3: 縦軸成長分析

#### 1. 傾向分析
- **ステップ**: 多セッション横断分析（userStats活用）, 思考の癖タグ付け。

#### 2. ダッシュボード
- **ステップ**: トレンドグラフ表示, 克服点リマインド, 成長実感レポート。