# セッション作成エラーの解決方法

## 🚨 エラーの原因

```
Could not find the table 'public.game_sessions' in the schema cache
```

**Supabase に `game_sessions` テーブルが存在していません。**

## 📋 解決手順

### ステップ 1: Supabase SQL Editor を開く

1. [Supabase Dashboard](https://supabase.com/dashboard) を開く
2. プロジェクト `jxqfqvorvbgijbchtbyp` を選択
3. 左サイドバーの **SQL Editor** をクリック

### ステップ 2: スキーマ作成 SQL を実行

1. **New query** をクリック
2. `@タスク/supabase_schema.sql` の内容をコピー
3. SQL Editor に貼り付け
4. **Run** をクリック

### ステップ 3: RLS ポリシー SQL を実行

1. **New query** をクリック
2. `@タスク/supabase_rls.sql` の内容をコピー
3. SQL Editor に貼り付け
4. **Run** をクリック

### ステップ 4: テーブルの確認

1. 左サイドバーの **Table Editor** をクリック
2. 以下のテーブルが作成されていることを確認：
   - `users`
   - `game_sessions`
   - `chat_messages`
   - `usage_logs`
   - `user_stats`

### ステップ 5: アプリを再テスト

1. ブラウザで `http://localhost:3000/app/training` を開く
2. 「トレーニングを開始」ボタンをクリック
3. エラーが表示されず、セッションが正常に作成されることを確認

## ✅ 確認ポイント

- すべてのテーブルが作成されている
- RLS ポリシーが設定されている
- トレーニングが正常に開始できる

## 📝 注意事項

- SQL の実行順序は重要です。必ず **スキーマ → RLS** の順で実行してください
- エラーが発生した場合は、エラーメッセージを確認して修正してください
